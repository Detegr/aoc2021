inp â† >-âŸœ'0'Â¨â€¢FLines "input11"
Flashâ†{â‰(âŠ¢+Â»+Â«)Ë˜â‰(âŠ¢+Â»+Â«)Ë˜ğ•©}

# star 1

# It feels wrong to have the total flash count variable
# out of the function, but so far it is the only way I can
# get the correct output and still use âŸ to call Step
totalâ†0

Stepâ†{
  ğ•©â†©1+ğ•© # first, apply +1 for every item
  # flash map
  # keeps track of b that have happened in this step
  fmâ†10â€¿10â¥Š1
  {DoFlash:
    # flashes that are going to happen now
    # flash map is applied to filter out b that already happened
    fâ†(ğ•©â‰¥10)Ã—fm

    fcâ†+Â´+Ëf                        # flash count
    fmâ†©fmÃ—Â¬f                        # update flash map
    totalâ†©total+fc                  # update total count
    fc>0 ? DoFlash ğ•©+Flash f ; ğ•©Ã—fm # process another round of flashes, if needed
  } ğ•©
}

StepâŸ100 inp
â€¢Show total

# star 2
iâ†0
{iâ†©i+1 â‹„ Step ğ•©}â€¢_while_{(+Â´+Ëğ•©)â‰ 0} inp
â€¢Show i
